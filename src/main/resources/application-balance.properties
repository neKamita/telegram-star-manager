# =======================================================
# КОНФИГУРАЦИЯ СИСТЕМЫ БАЛАНСА TELEGRAM STAR MANAGER
# =======================================================

# === ВАЛЮТА ПО УМОЛЧАНИЮ ===
balance.default-currency=USD

# === ЛИМИТЫ СУММ ОПЕРАЦИЙ ===
# Минимальная и максимальная сумма пополнения
balance.min-deposit-amount=0.01
balance.max-deposit-amount=10000.00

# Минимальная и максимальная сумма списания
balance.min-withdrawal-amount=0.01
balance.max-withdrawal-amount=5000.00

# === ДНЕВНЫЕ ЛИМИТЫ ===
# Максимальная сумма пополнений в день
balance.daily-deposit-limit=50000.00

# Максимальная сумма списаний в день
balance.daily-withdrawal-limit=10000.00

# === ЗАЩИТА ОТ КОНКУРЕНТНЫХ ОПЕРАЦИЙ ===
# Максимальное количество одновременных операций для одного пользователя
balance.max-concurrent-operations-per-user=3

# Общее максимальное количество одновременных операций в системе
balance.max-concurrent-operations=5

# === RATE LIMITING ===
# Максимальное количество операций в минуту для одного пользователя
balance.rate-limit-operations-per-minute=10

# === TIMEOUTS И СРОКИ ===
# Время жизни pending транзакций в минутах (после которого они считаются зависшими)
balance.transaction-timeout-minutes=30

# Время хранения истории операций в днях
balance.transaction-history-retention-days=365

# === АДМИНИСТРАТИВНЫЕ ОПЕРАЦИИ ===
# Список администраторов, имеющих право на корректировку балансов
balance.admin-users=SYSTEM,admin,support

# Максимальная сумма административной корректировки без дополнительного подтверждения
balance.max-admin-adjustment-amount=1000.00

# === МОНИТОРИНГ И АЛЕРТЫ ===
# Пороговая сумма для алертов о крупных операциях
balance.large-transaction-alert-threshold=1000.00

# Количество неудачных операций для блокировки пользователя
balance.failed-operations-threshold=5

# === ИНТЕГРАЦИЯ ===
# Включить интеграцию с системой заказов
balance.enable-order-integration=true

# Включить автоматические возвраты при отмене заказов
balance.enable-automatic-refunds=true

# === ЛОГИРОВАНИЕ ===
# Включить подробное логирование операций с балансом
balance.enable-detailed-logging=true

# Включить аудит всех изменений баланса
balance.enable-audit-trail=true

# === ПРОИЗВОДИТЕЛЬНОСТЬ ===
# Размер пула соединений для операций с балансом
balance.connection-pool-size=10

# Timeout для операций с базой данных в секундах
balance.database-timeout-seconds=30

# === ВАЛИДАЦИЯ ===
# Включить строгую валидацию входных данных
balance.enable-strict-validation=true

# Включить проверку лимитов транзакций
balance.enable-transaction-limits=true

# === РЕЗЕРВНОЕ КОПИРОВАНИЕ ===
# Включить автоматическое резервное копирование критических операций
balance.enable-backup-logging=true

# Путь для сохранения резервных копий операций
balance.backup-log-path=/var/log/telegram-star-manager/balance-backup/

# === БЕЗОПАСНОСТЬ ===
# Включить шифрование чувствительных данных
balance.enable-data-encryption=false

# КРИТИЧЕСКИ ВАЖНО: Обязательно установите переменную окружения BALANCE_ENCRYPTION_SECRET
# Используйте криптографически стойкий ключ длиной не менее 32 символов.
# Fallback значение удалено по соображениям безопасности.
balance.encryption-secret=${BALANCE_ENCRYPTION_SECRET}

# === КЭШИРОВАНИЕ ===
# Включить кэширование балансов пользователей
balance.enable-balance-caching=true

# Время жизни кэша балансов в минутах
balance.balance-cache-ttl-minutes=5

# === ОЧИСТКА ДАННЫХ ===
# Включить автоматическую очистку старых данных
balance.enable-data-cleanup=true

# Интервал очистки в часах
balance.cleanup-interval-hours=24

# === МЕТРИКИ ===
# Включить сбор метрик производительности
balance.enable-performance-metrics=true

# Включить экспорт метрик для мониторинга
balance.enable-metrics-export=true